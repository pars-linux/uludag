Possible API Migrations
=======================

Pisi does not have an api. All the projects use its internal modules to do their
jobs. This file holds a list of these usages for api migration.

PiSi
====

Pisi itself also should not use internal db modules. It can also use this abstracted
api layer from the needed places.

* packagedb.remove_repo
* sourcedb.remove_repo
* packagedb.which_repo
* repodb.get_repo
* packagedb.get_package
* installdb.is_installed
* packagedb.get_rev_deps
* installdb.get_version
* packagedb.has_package
* packagedb.add_package
* componentdb.add_package
* filesdb.has_file
* filesdb.get_file
* installdb.get_info
* installdb.files
* installdb.pkg_dir
* installdb.install
* filesdb.add_files
* componentdb.add_spec
* sourcedb.add_spec
* componentdb.get_union_comp
* componentdb.remove_spec
* installdb.get_version
* componentdb.remove_repo
* componentdb.remove_package
* componentdb.update_component
* componentdb.add_package
* installdb.remove
* filesdb.remove_files
* sourcedb.pkgtosrc
* sourcedb.get_spec
* sourcedb.get_source
* sourcedb.get_spec_repo
* repodb.get_repo
* componentdb.has_component
* componentdb.get_component
* installdb.is_installed
* packagedb.list_packages
* installdb.list_installed
* componentdb.get_union_packages
* componentdb.list_components
* repodb.list
* sourcedb.list
* installdb.list_pending
* filesdb.match_files
* 

Package Manager
===============

Package Manager should not use internal db modules of pisi. It should only use pisi 
api.

* repodb.get_repo
* packagedb.get_package

  pisi.itemsbyrepo.installed or pisi.itemsbyrepo.repos should not be used by package manager.
  Instead api should have functions like api.get_installed_packages, api.get_repo_packages and
  get_all_packages/get_packages.

* componentdb.list_components
* repodb.list
* componentdb.get_union_comp
* componentdb.get_union_packages

Yali
====

Yali should not use internal db modules of pisi. It should only use pisi api.

* api.add_repo
* api.update_repo
* api.remove_repo
* api.install
* packagedb.list_packages
* installdb.list_pending
* api.configure_pending
* packagedb.get_package

Buildfarm
=========

Buildfarm should not use internal db modules of pisi. It should only use pisi api.

* api.create_delta_package
