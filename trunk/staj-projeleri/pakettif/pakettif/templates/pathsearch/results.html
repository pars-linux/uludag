{% extends "base.html" %} 
{% block title %}Results for {{ term }}{% endblock %}
{% block content %}
	{% if entry_list %}
		{% if group %}
		<!-- If grouping is desired -->
			{% regroup entry_list by package as pkg_list %}
		
			<h2>Packages containing files related to {{ term }}:</h2>
			<table>
				<tr class="table-top">
					<th>Package</th>
				</tr>
				{% for pkg in pkg_list %}
				<tr>
					<td><a href="/search/{{current_version}}/package/{{ pkg.grouper }}/{{ term }}">{{ pkg.grouper }} ({{ pkg.list|length}})</a></td>
				</tr>
				{% endfor %}
			</table>
		{% else %}
		<!-- If grouping is not desired -->
			{% if package_name %}
			<!-- Search for term in a specific package-->
				<h2>Files {% if term %}related to {{ term }} {% endif %}inside <a href="/search/{{current_version}}/package/{{ package_name }}/list/">{{ package_name }}</a>:</h2>
	
				<table>
					<tr class="table-top">
						<th>Filepath</th>
					</tr>
					{% for entry in entry_list %}
						<tr>
							<td>{{ entry.path }}</td>
						</tr>		
					{% endfor %}
				</table>
			{% else %}
			<!-- Search for term in all packages-->
				<h2>Packages and paths of files inside related to {{ term }}:</h2>
				<table>
					<tr class="table-top">
						<th>Package</th>
						<th>Filepath</th>
					</tr>
					{% for entry in entry_list %}
						<tr>
							<td><a href="/search/{{current_version}}/package/{{ package_name }}/list/">{{ entry.package }}</a></td>
							<td>{{ entry.path }}</td>
						</tr>		
					{% endfor %}
				</table>
			{% endif %}
		<!-- Grouping selection ended -->
		{% endif %}
	<!-- Results ended -->
	{% else %}
		<h3>No results...</h3>
	{% endif %}
{% endblock %}